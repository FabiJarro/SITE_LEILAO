{%extends "base.html"%}
{%block conteudo%}

<link rel="stylesheet" href="{{ url_for('static', filename='styles/style_index.css')}}">



<nav class="navPrincipal">

    <ul>
        <li>
            <a href="{{ url_for('todosProdutos') }}">Todos os produtos</a>
        </li>
        <li>
            <a href="{{ url_for('como_vender') }}">Como vender</a>
        </li>

        <li>
            <a href="{{ url_for('como_comprar') }}">Como comprar</a>
        </li>
        <li>
            <a href="{{ url_for('sobre') }}">Sobre nós</a>
        </li>


    </ul>
</nav>



<main>

    {% if primeiro_nome %}
    <p style="font-size: 25px0; margin-left: -40px; font-size:25px;">Bem-vindo, {{ primeiro_nome }}!</p>
    {% endif%}

    <section class="carrossel-container">
        <div class="carrossel">
            <div class="carrossel-slide active">
                <img src="{{ url_for('static', filename='imagens/carrossel8.jpeg') }}" alt="Slide 2">
                <div class="carrossel-texto">
                    <h2>Titulo1</h2>
                    <p>sla</p>
                    <a href="#" class="botao-carrossel">catálogo do Leilão</a>
                </div>
            </div>
            <div class="carrossel-slide">
                <img src="{{ url_for('static', filename='imagens/carrossel5.jpeg') }}" alt="Slide 2">
                <div class="carrossel-texto">
                    <h2>Titulo2</h2>
                    <p>saiba mais</p>
                    <a href="#" class="botao-carrossel">saiba Mais</a>
                </div>
            </div>


            <!-- Controles -->
            <div class="carrossel-controles">
                <span class="anterior">&#10094;</span>
                <span class="proximo">&#10095;</span>
            </div>
        </div>
    </section>

<!-- produtos recentes -->
    <section class="produtos-recentes">
        <h2>Produtos mais recentes</h2>
    
        <div class="grid-produtos-recentes">
    
            {% for produto in produtos %}
            <a class="card-recente" href="{{ url_for('detalhes_produto', id_produto=produto.id_produto) }}">
    
                <div class="card-img">
                    {% if produto.imagens and produto.imagens[0] %}
                    <img src="{{ url_for('get_img', id_imagem=produto.imagens[0].id_imagem) }}" alt="{{ produto.nome_produto }}">
                    {% else %}
                    <img src="{{ url_for('static', filename='imagens/capa_padrao.jpeg') }}" alt="{{ produto.nome_produto }}">
                    {% endif %}
                </div>
    
                <div class="card-info">
                    <h3 class="marca">{{ produto.marca_produto }}</h3>
                    <p class="titulo">{{ produto.nome_produto }}</p>
                    <p class="preco">R$ {{ produto.preco_produto }}</p>
                </div>
    
            </a>
            {% endfor %}
    
        </div>
    </section>


    

</main>



<script>
    document.addEventListener("DOMContentLoaded", function () {

        const slides = document.querySelectorAll(".carrossel-slide");
        const btnAnterior = document.querySelector(".anterior");
        const btnProximo = document.querySelector(".proximo");
        let index = 0;

        function mostrarSlide(n) {
            slides.forEach((slide, i) => {
                slide.classList.remove("active");
                slide.style.opacity = "0";
                slide.style.transition = "opacity 0.6s ease";
            });
            slides[n].classList.add("active");
            slides[n].style.opacity = "1";
        }

        function slideAnterior() {
            index = (index - 1 + slides.length) % slides.length;
            mostrarSlide(index);
        }

        function slideProximo() {
            index = (index + 1) % slides.length;
            mostrarSlide(index);
        }

        // Botões de controle
        btnAnterior.addEventListener("click", slideAnterior);
        btnProximo.addEventListener("click", slideProximo);

        // Troca automática
        setInterval(slideProximo, 5000);

        // Inicializa o primeiro slide
        mostrarSlide(index);
    });


</script>



{%endblock%}