{% extends "base.html" %}
{% block conteudo %}

<link href="{{ url_for('static', filename='/styles/style_cadastro.css')}}" rel="stylesheet">

<div id="cadastrar" class="formulario">
  <form action="{{ url_for('cadastrar_usuario') }}" method="post" enctype="multipart/form-data"
    id="formulario_cadastro">

    <h3>Dados Cadastrais</h3>
    <div class="form-duas-colunas">

      <!-- COLUNA ESQUERDA -->
      <div class="coluna">
        <br><br><br>

        <div class="form-group">
          <label for="nome">Nome Completo</label>
          <input type="text" id="nome" name="nome" required>
        </div>

        <div class="form-group">
          <label for="email">Seu e-mail</label>
          <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group">
          <label for="cpf">CPF</label>
          <input type="text" id="cpf" name="cpf" required>
        </div>

        <div class="form-group">
          <label for="rg">RG</label>
          <input type="text" id="rg" name="rg" required>
        </div>

        <div class="form-group">
          <label for="data_nascimento">Data de Nascimento</label>
          <input type="text" id="data_nascimento" name="data_nascimento" placeholder="DD/MM/AAAA" required>

        </div>

        <div class="form-group">
          <label for="senha">Crie uma senha</label>
          <input type="password" id="senha" name="senha" required>
        </div>

        <div class="form-group">
          <label for="confirmarsenha">Confirmar Senha</label>
          <input type="password" id="confirmarsenha" name="confirmarsenha" required>
        </div>
      </div>

      <!-- COLUNA DIREITA -->
      <div class="coluna">
        <h4>Endereço</h4>

        <div class="form-group">
          <label for="cep">CEP</label>
          <input type="text" id="cep" name="cep" required>
        </div>

        <div class="form-group">
          <label for="endereco">Rua</label>
          <input type="text" id="rua" name="rua" required>
        </div>

        <div class="duas-colunas">
          <div class="form-group">
            <label for="numero_casa">Número</label>
            <input type="text" id="numero_casa" name="numero_casa" required>
          </div>

          <div class="form-group">
            <label for="complemento">Complemento</label>
            <input type="text" id="complemento" name="complemento">
          </div>
        </div>

        <div class="form-group">
          <label for="bairro">Bairro</label>
          <input type="text" id="bairro" name="bairro">
        </div>

        <div class="form-group">
          <label for="pais">País</label>
          <input type="text" id="pais" name="pais">
        </div>

        <div class="duas-colunas">
          <div class="form-group">
            <label for="cidade">Cidade</label>
            <input type="text" id="cidade" name="cidade">
          </div>

          <div class="form-group">
            <label for="estado">Estado</label>
            <select id="estado" name="estado">
              <option value="">Selecione um estado</option>
              <option>AC</option>
              <option>AL</option>
              <option>AP</option>
              <option>AM</option>
              <option>BA</option>
              <option>CE</option>
              <option>DF</option>
              <option>ES</option>
              <option>GO</option>
              <option>MA</option>
              <option>MT</option>
              <option>MS</option>
              <option>MG</option>
              <option>PA</option>
              <option>PB</option>
              <option>PR</option>
              <option>PE</option>
              <option>PI</option>
              <option>RJ</option>
              <option>RN</option>
              <option>RS</option>
              <option>RO</option>
              <option>RR</option>
              <option>SC</option>
              <option>SP</option>
              <option>SE</option>
              <option>TO</option>
            </select>
          </div>
        </div>

        <h4>Telefone</h4>
        <div class="duas-colunas">
          <div class="form-group">
            <label for="">Telefone Celular</label>
            <input type="text" id="telefone" name="telefone" placeholder="(DD) 99999-9999">
          </div>

        </div>
      </div>
    </div>

    <div class="linha-salvar">
      <button type="button" onclick="enviarFormulario(event)" id="btn-enviar">Salvar</button>
      <div id="mensagem"></div>
    </div>

  </form>


</div>



<script src="{{ url_for('static', filename='/scripts/script_cadastrarElance.js')}}"></script>
<script>
  // / ----- CPF -----
  const cpf = document.querySelector("#cpf");
  cpf.addEventListener("input", function () {
    let v = cpf.value.replace(/\D/g, "");
    if (v.length > 11) v = v.slice(0, 11);

    if (v.length >= 3) v = v.replace(/(\d{3})(\d)/, "$1.$2");
    if (v.length >= 6) v = v.replace(/(\d{3})(\d)/, "$1.$2");
    if (v.length >= 9) v = v.replace(/(\d{3})(\d{2})$/, "$1-$2");

    cpf.value = v;
  });

  // ----- TELEFONE -----
  const telefone = document.querySelector("#telefone");
  telefone.addEventListener("input", function () {
    let v = telefone.value.replace(/\D/g, "");
    if (v.length > 11) v = v.slice(0, 11);

    if (v.length >= 2) v = v.replace(/(\d{2})(\d)/, "($1) $2");
    if (v.length >= 7) v = v.replace(/(\d{5})(\d)/, "$1-$2");

    telefone.value = v;
  });

  // ----- CEP (xxxxx-xxx) -----
  const cep = document.querySelector("#cep");
  cep.addEventListener("input", function () {
    let v = cep.value.replace(/\D/g, "");
    if (v.length > 8) v = v.slice(0, 8);

    if (v.length >= 6) v = v.replace(/(\d{5})(\d)/, "$1-$2");

    cep.value = v;
  });

  // ----- RG (xx.xxx.xxx-x) -----
  const rg = document.querySelector("#rg");
  rg.addEventListener("input", function () {
    let v = rg.value.replace(/\D/g, "");
    if (v.length > 9) v = v.slice(0, 9);

    if (v.length >= 2) v = v.replace(/(\d{2})(\d)/, "$1.$2");
    if (v.length >= 5) v = v.replace(/(\d{3})(\d)/, "$1.$2");
    if (v.length >= 8) v = v.replace(/(\d{3})(\d)$/, "$1-$2");

    rg.value = v;
  });

  
  const dataNasc = document.querySelector("#data_nascimento");

  dataNasc.addEventListener("input", function () {
    let v = dataNasc.value.replace(/\D/g, "");
    if (v.length > 8) v = v.slice(0, 8);

    if (v.length >= 2) v = v.replace(/(\d{2})(\d)/, "$1/$2");
    if (v.length >= 2) v = v.replace(/(\d{2})(\d)/, "$1/$2");

    dataNasc.value = v;
  });

  

</script>

{% endblock %}